# core


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## ProducerRecord

Tracks which script/notebook produced a file.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L71"
target="_blank" style="float:right; font-size:smaller">source</a>

### ProducerRecord

>  ProducerRecord (target:pathlib.Path, producer:pathlib.Path,
>                      kind:Optional[str]=None)

\*Record of a file’s producer.

Attributes: target: Path to the produced file. producer: Path to the
script/notebook that produced it. kind: Optional kind/type of output.\*

## Mixins

Mixins provide modular functionality grouped by concern.

### RootMixin

Handles root/iroot/oroot cascade, setters, cwd/cwp resolution,
auto_create handling.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L84"
target="_blank" style="float:right; font-size:smaller">source</a>

### RootMixin

>  RootMixin (root:Union[str,pathlib.Path,NoneType]=None,
>                 iroot:Union[str,pathlib.Path,NoneType]=None,
>                 oroot:Union[str,pathlib.Path,NoneType]=None,
>                 auto_create:bool=True, **kwargs)

*Mixin for root path management and cascade behavior.*

### DatestampMixin

Handles datestamp formatting, parsing, and placement rules.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L198"
target="_blank" style="float:right; font-size:smaller">source</a>

### DatestampMixin

>  DatestampMixin (use_datestamp:bool=True, datestamp_format:str='%Y_%m_%d',
>                      datestamp_in:Literal['dirs','files','both','none']='dirs'
>                      , **kwargs)

*Mixin for datestamp behavior.*

### TemplateMixin

Handles template registration and resolution for non-Lightning
templates.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L235"
target="_blank" style="float:right; font-size:smaller">source</a>

### TemplateMixin

>  TemplateMixin
>                     (templates:Optional[Dict[str,projio.funcs.TemplateSpec]]=N
>                     one, **kwargs)

*Mixin for template registration and path building.*

### LightningMixin

Handles Lightning-specific paths and helpers.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L284"
target="_blank" style="float:right; font-size:smaller">source</a>

### LightningMixin

>  LightningMixin (**kwargs)

*Mixin for Lightning-aware paths and helpers.*

### GitignoreMixin

Handles .gitignore integration.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L415"
target="_blank" style="float:right; font-size:smaller">source</a>

### GitignoreMixin

>  GitignoreMixin
>                      (gitignore:Union[bool,str,pathlib.Path,NoneType]='.gitign
>                      ore', **kwargs)

*Mixin for gitignore management.*

### TreeMixin

Handles ASCII tree rendering.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L462"
target="_blank" style="float:right; font-size:smaller">source</a>

### TreeMixin

>  TreeMixin ()

*Mixin for directory tree display.*

### ProducerMixin

Tracks which scripts/notebooks produced which files.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L481"
target="_blank" style="float:right; font-size:smaller">source</a>

### ProducerMixin

>  ProducerMixin (**kwargs)

*Mixin for producer tracking.*

### ContextMixin

Provides context manager and description utilities.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L527"
target="_blank" style="float:right; font-size:smaller">source</a>

### ContextMixin

>  ContextMixin ()

*Mixin for context manager and introspection.*

## ProjectIO

Main class composing all mixins.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L591"
target="_blank" style="float:right; font-size:smaller">source</a>

### ProjectIO

>  ProjectIO (package:str|module|None=None,
>                 root:Union[str,pathlib.Path,NoneType]=None,
>                 iroot:Union[str,pathlib.Path,NoneType]=None,
>                 oroot:Union[str,pathlib.Path,NoneType]=None,
>                 auto_create:bool=True, use_datestamp:bool=True,
>                 datestamp_format:str='%Y_%m_%d',
>                 datestamp_in:Literal['dirs','files','both','none']='dirs',
>                 dry_run:bool=False,
>                 gitignore:Union[bool,str,pathlib.Path,NoneType]='.gitignore')

\*Global path manager with template and Lightning awareness.

Composes mixins to provide comprehensive path management for Python
packages. Inspired by scanpy.settings singleton-style API and pathlib
ergonomics.

Parameters: package: Package name or module for resource discovery.
root: Shared base path (cascades to iroot/oroot). iroot: Input/data root
(default: root). oroot: Output root (default: root). auto_create:
Auto-create directories on access (default: True). use_datestamp:
Include datestamps in paths (default: True). datestamp_format: strftime
format (default: %Y\_%m\_%d). datestamp_in: Where to add datestamp:
‘dirs’, ‘files’, ‘both’, ‘none’. dry_run: Prevent filesystem mutations
(default: False). gitignore: Path to gitignore or True/False (default:
‘.gitignore’).

Example: \>\>\> io = ProjectIO(root=“/project”, use_datestamp=True)
\>\>\> io.checkpoint_path(“model”, run=“exp1”)
PosixPath(‘/project/lightning/checkpoints/2024_03_15/exp1/model.ckpt’)\*

## PIO - Singleton Proxy

Class-level proxy for convenient access without explicit instantiation.

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L757"
target="_blank" style="float:right; font-size:smaller">source</a>

### PIOType

*Metaclass for PIO to enable class-level attribute forwarding.*

------------------------------------------------------------------------

<a
href="https://github.com/s01st/project-io/blob/main/projio/core.py#L783"
target="_blank" style="float:right; font-size:smaller">source</a>

### PIO

>  PIO ()

\*Class-level proxy to a global ProjectIO singleton.

Enables convenient access without explicit instantiation:

    >>> PIO.cache  # returns Path
    >>> PIO.checkpoint_path("model")  # builds path
    >>> PIO.root = "/new/root"  # changes default root

Can subclass to set package-specific defaults:

    >>> class Paths(PIO):
    ...     package = "mypackage"*

## Examples

## Examples

``` python
# Example usage
import tempfile
with tempfile.TemporaryDirectory() as tmp:
    io = ProjectIO(root=tmp, auto_create=False, use_datestamp=False)
    print(f"Root: {io.root}")
    print(f"Outputs: {io.outputs}")
    print(f"Checkpoints: {io.checkpoints}")
    
    # With datestamp
    io2 = ProjectIO(root=tmp, auto_create=False, use_datestamp=True, datestamp_in="dirs")
    io2.datestamp_value = lambda ts=None: "2024_03_15"  # Mock for demo
    print(f"\nCheckpoint path: {io2.checkpoint_path('model', run='exp1')}")
```

    Root: /private/var/folders/f7/7pcpvrhn0p9gw509gyzmh8fxrwyskv/T/tmpuocx122s
    Outputs: /private/var/folders/f7/7pcpvrhn0p9gw509gyzmh8fxrwyskv/T/tmpuocx122s
    Checkpoints: /private/var/folders/f7/7pcpvrhn0p9gw509gyzmh8fxrwyskv/T/tmpuocx122s/lightning/checkpoints

    Checkpoint path: /private/var/folders/f7/7pcpvrhn0p9gw509gyzmh8fxrwyskv/T/tmpuocx122s/lightning/checkpoints/2024_03_15/exp1/model.ckpt
